--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4
-- Dumped by pg_dump version 17.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: auth_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO postgres;

--
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO postgres;

--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO postgres;

--
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cart; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cart (
    id integer NOT NULL,
    total_money numeric(13,3),
    user_id integer
);


ALTER TABLE public.cart OWNER TO postgres;

--
-- Name: TABLE cart; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.cart IS 'Shopping cart table';


--
-- Name: cart_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.cart_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.cart_id_seq OWNER TO postgres;

--
-- Name: cart_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.cart_id_seq OWNED BY public.cart.id;


--
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    id integer NOT NULL,
    cate_name character varying(50),
    image text
);


ALTER TABLE public.category OWNER TO postgres;

--
-- Name: TABLE category; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.category IS 'Food categories table';


--
-- Name: category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.category_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.category_id_seq OWNER TO postgres;

--
-- Name: category_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.category_id_seq OWNED BY public.category.id;


--
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id bigint NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO postgres;

--
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO postgres;

--
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO postgres;

--
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_session; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO postgres;

--
-- Name: food; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.food (
    id integer NOT NULL,
    title character varying(255),
    description character varying(500),
    price numeric(10,2) DEFAULT 0,
    image text,
    cate_id integer,
    availability character varying(50),
    store_id bigint
);


ALTER TABLE public.food OWNER TO postgres;

--
-- Name: TABLE food; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.food IS 'Food items table';


--
-- Name: COLUMN food.store_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.food.store_id IS 'ID c???a h??ng (foreign key ?????n b???ng stores)';


--
-- Name: food_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.food_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.food_id_seq OWNER TO postgres;

--
-- Name: food_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.food_id_seq OWNED BY public.food.id;


--
-- Name: food_size; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.food_size (
    id integer NOT NULL,
    size_name character varying(50) NOT NULL,
    price numeric(10,2) DEFAULT 0 NOT NULL,
    food_id integer NOT NULL
);


ALTER TABLE public.food_size OWNER TO postgres;

--
-- Name: food_size_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.food_size_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.food_size_id_seq OWNER TO postgres;

--
-- Name: food_size_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.food_size_id_seq OWNED BY public.food_size.id;


--
-- Name: item; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.item (
    cart_id integer NOT NULL,
    food_id integer NOT NULL,
    quantity integer,
    item_note character varying(255),
    id integer NOT NULL,
    food_option_id integer,
    CONSTRAINT chk_item_quantity CHECK ((quantity > 0))
);


ALTER TABLE public.item OWNER TO postgres;

--
-- Name: TABLE item; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.item IS 'Cart items junction table';


--
-- Name: item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.item_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.item_id_seq OWNER TO postgres;

--
-- Name: item_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.item_id_seq OWNED BY public.item.id;


--
-- Name: order_detail; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_detail (
    order_id integer NOT NULL,
    food_id integer NOT NULL,
    quantity integer,
    food_note character varying(255),
    id integer NOT NULL,
    food_option_id integer,
    food_price numeric(10,2) DEFAULT 0 NOT NULL,
    food_option_price numeric(10,2),
    CONSTRAINT chk_order_detail_quantity CHECK ((quantity > 0))
);


ALTER TABLE public.order_detail OWNER TO postgres;

--
-- Name: TABLE order_detail; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.order_detail IS 'Order details junction table';


--
-- Name: order_detail_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.order_detail_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.order_detail_id_seq OWNER TO postgres;

--
-- Name: order_detail_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.order_detail_id_seq OWNED BY public.order_detail.id;


--
-- Name: order_promo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_promo (
    id bigint NOT NULL,
    order_id bigint NOT NULL,
    promo_id bigint NOT NULL,
    applied_amount numeric(12,2) DEFAULT 0 NOT NULL,
    note character varying(255),
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.order_promo OWNER TO postgres;

--
-- Name: order_promo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.order_promo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.order_promo_id_seq OWNER TO postgres;

--
-- Name: order_promo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.order_promo_id_seq OWNED BY public.order_promo.id;


--
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id integer NOT NULL,
    created_date timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    total_money numeric(13,3),
    user_id integer,
    order_status character varying(30),
    note character varying(50),
    payment_method character varying(20),
    receiver_name character varying(50),
    ship_address character varying(100),
    phone_number character(10),
    promo_id integer,
    shipper_id integer,
    cancel_reason character varying(255),
    shipping_fee numeric(10,0) DEFAULT 0,
    group_id integer,
    store_id integer,
    delivery_status character varying(30) DEFAULT 'Chờ xác nhận'::character varying,
    total_before_discount numeric(12,2) DEFAULT 0,
    total_discount numeric(12,2) DEFAULT 0,
    total_after_discount numeric(12,2) DEFAULT 0,
    cancelled_by_role character varying(20),
    cancelled_date timestamp with time zone
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- Name: TABLE orders; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.orders IS 'Orders table';


--
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.orders_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.orders_id_seq OWNER TO postgres;

--
-- Name: orders_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.orders_id_seq OWNED BY public.orders.id;


--
-- Name: promo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.promo (
    id integer NOT NULL,
    name character varying(255),
    category character varying(20),
    discount_value numeric(10,2),
    start_date timestamp without time zone,
    end_date timestamp without time zone,
    minimum_pay numeric(10,2),
    store_id integer,
    max_discount_amount numeric(10,2),
    scope character varying(10) DEFAULT 'STORE'::character varying,
    discount_type character varying(10) DEFAULT 'PERCENT'::character varying,
    is_active boolean DEFAULT true,
    CONSTRAINT promo_category_check CHECK (((category)::text = ANY ((ARRAY['PERCENT'::character varying, 'AMOUNT'::character varying])::text[])))
);


ALTER TABLE public.promo OWNER TO postgres;

--
-- Name: promo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.promo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.promo_id_seq OWNER TO postgres;

--
-- Name: promo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.promo_id_seq OWNED BY public.promo.id;


--
-- Name: rating_food; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rating_food (
    id integer NOT NULL,
    user_id integer,
    food_id integer,
    content character varying(100),
    point double precision,
    order_id integer
);


ALTER TABLE public.rating_food OWNER TO postgres;

--
-- Name: TABLE rating_food; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.rating_food IS 'Food ratings and reviews table';


--
-- Name: rating_food_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.rating_food_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.rating_food_id_seq OWNER TO postgres;

--
-- Name: rating_food_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.rating_food_id_seq OWNED BY public.rating_food.id;


--
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    id integer NOT NULL,
    role_name character varying(20)
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- Name: TABLE roles; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.roles IS 'User roles table';


--
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.roles_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.roles_id_seq OWNER TO postgres;

--
-- Name: roles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.roles_id_seq OWNED BY public.roles.id;


--
-- Name: shipper; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.shipper (
    id integer NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.shipper OWNER TO postgres;

--
-- Name: shipper_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.shipper_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.shipper_id_seq OWNER TO postgres;

--
-- Name: shipper_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.shipper_id_seq OWNED BY public.shipper.id;


--
-- Name: stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stores (
    id bigint NOT NULL,
    store_name character varying(100) NOT NULL,
    image text NOT NULL,
    description text NOT NULL,
    user_id bigint
);


ALTER TABLE public.stores OWNER TO postgres;

--
-- Name: TABLE stores; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.stores IS 'B???ng l??u th??ng tin c??c c???a h??ng';


--
-- Name: COLUMN stores.store_name; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.stores.store_name IS 'T??n c???a h??ng';


--
-- Name: COLUMN stores.image; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.stores.image IS '???????ng d???n h??nh ???nh c???a h??ng (assets/t??n.png)';


--
-- Name: COLUMN stores.description; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.stores.description IS 'M?? t??? v??? c???a h??ng';


--
-- Name: stores_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.stores ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.stores_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    fullname character varying(50),
    username character varying(30),
    password character varying(30),
    email character varying(50),
    address character varying(100),
    phone_number character(10),
    created_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    role_id integer,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    is_shipper_registered boolean,
    is_store_registered boolean
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: TABLE users; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.users IS 'Users information table';


--
-- Name: users_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users_groups (
    id bigint NOT NULL,
    user_id bigint NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.users_groups OWNER TO postgres;

--
-- Name: users_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_id_seq OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- Name: users_user_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users_user_permissions (
    id bigint NOT NULL,
    user_id bigint NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.users_user_permissions OWNER TO postgres;

--
-- Name: users_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cart id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart ALTER COLUMN id SET DEFAULT nextval('public.cart_id_seq'::regclass);


--
-- Name: category id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category ALTER COLUMN id SET DEFAULT nextval('public.category_id_seq'::regclass);


--
-- Name: food id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food ALTER COLUMN id SET DEFAULT nextval('public.food_id_seq'::regclass);


--
-- Name: food_size id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_size ALTER COLUMN id SET DEFAULT nextval('public.food_size_id_seq'::regclass);


--
-- Name: item id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item ALTER COLUMN id SET DEFAULT nextval('public.item_id_seq'::regclass);


--
-- Name: order_detail id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_detail ALTER COLUMN id SET DEFAULT nextval('public.order_detail_id_seq'::regclass);


--
-- Name: order_promo id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_promo ALTER COLUMN id SET DEFAULT nextval('public.order_promo_id_seq'::regclass);


--
-- Name: orders id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders ALTER COLUMN id SET DEFAULT nextval('public.orders_id_seq'::regclass);


--
-- Name: promo id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.promo ALTER COLUMN id SET DEFAULT nextval('public.promo_id_seq'::regclass);


--
-- Name: rating_food id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rating_food ALTER COLUMN id SET DEFAULT nextval('public.rating_food_id_seq'::regclass);


--
-- Name: roles id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles ALTER COLUMN id SET DEFAULT nextval('public.roles_id_seq'::regclass);


--
-- Name: shipper id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipper ALTER COLUMN id SET DEFAULT nextval('public.shipper_id_seq'::regclass);


--
-- Name: users id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- Data for Name: auth_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group (id, name) FROM stdin;
\.


--
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add log entry	1	add_logentry
2	Can change log entry	1	change_logentry
3	Can delete log entry	1	delete_logentry
4	Can view log entry	1	view_logentry
5	Can add permission	2	add_permission
6	Can change permission	2	change_permission
7	Can delete permission	2	delete_permission
8	Can view permission	2	view_permission
9	Can add group	3	add_group
10	Can change group	3	change_group
11	Can delete group	3	delete_group
12	Can view group	3	view_group
13	Can add content type	4	add_contenttype
14	Can change content type	4	change_contenttype
15	Can delete content type	4	delete_contenttype
16	Can view content type	4	view_contenttype
17	Can add session	5	add_session
18	Can change session	5	change_session
19	Can delete session	5	delete_session
20	Can view session	5	view_session
21	Can add role	6	add_role
22	Can change role	6	change_role
23	Can delete role	6	delete_role
24	Can view role	6	view_role
25	Can add user	7	add_user
26	Can change user	7	change_user
27	Can delete user	7	delete_user
28	Can view user	7	view_user
29	Can add category	8	add_category
30	Can change category	8	change_category
31	Can delete category	8	delete_category
32	Can view category	8	view_category
33	Can add food	9	add_food
34	Can change food	9	change_food
35	Can delete food	9	delete_food
36	Can view food	9	view_food
37	Can add cart	10	add_cart
38	Can change cart	10	change_cart
39	Can delete cart	10	delete_cart
40	Can view cart	10	view_cart
41	Can add item	11	add_item
42	Can change item	11	change_item
43	Can delete item	11	delete_item
44	Can view item	11	view_item
45	Can add order	12	add_order
46	Can change order	12	change_order
47	Can delete order	12	delete_order
48	Can view order	12	view_order
49	Can add order detail	13	add_orderdetail
50	Can change order detail	13	change_orderdetail
51	Can delete order detail	13	delete_orderdetail
52	Can view order detail	13	view_orderdetail
53	Can add promo	14	add_promo
54	Can change promo	14	change_promo
55	Can delete promo	14	delete_promo
56	Can view promo	14	view_promo
57	Can add rating food	15	add_ratingfood
58	Can change rating food	15	change_ratingfood
59	Can delete rating food	15	delete_ratingfood
60	Can view rating food	15	view_ratingfood
61	Can add store	16	add_store
62	Can change store	16	change_store
63	Can delete store	16	delete_store
64	Can view store	16	view_store
65	Can add shipper	17	add_shipper
66	Can change shipper	17	change_shipper
67	Can delete shipper	17	delete_shipper
68	Can view shipper	17	view_shipper
69	Can add food size	18	add_foodsize
70	Can change food size	18	change_foodsize
71	Can delete food size	18	delete_foodsize
72	Can view food size	18	view_foodsize
73	Can add order promo	19	add_orderpromo
74	Can change order promo	19	change_orderpromo
75	Can delete order promo	19	delete_orderpromo
76	Can view order promo	19	view_orderpromo
\.


--
-- Data for Name: cart; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.cart (id, total_money, user_id) FROM stdin;
1	0.000	5
2	0.000	2
4	0.000	8
3	0.000	3
\.


--
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.category (id, cate_name, image) FROM stdin;
1	Gà giòn	assets/fast food icons free-fried chicken.png
2	Burger	assets/fast food icons free-burger.png
3	Mỳ ý	assets/fast food icons free-pizza.png
4	Khoai tây chiên	assets/fast food icons free-potato.png
5	Món phụ	assets/fast food icons free-taco.png
6	Tráng miệng	assets/fast food icons free-hot dog.png
7	Nước giải khát	assets/fast food icons free-milkshake.png
8	Món thêm	assets/fast food icons free-fried chicken.png
\.


--
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
\.


--
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_content_type (id, app_label, model) FROM stdin;
1	admin	logentry
2	auth	permission
3	auth	group
4	contenttypes	contenttype
5	sessions	session
6	authentication	role
7	authentication	user
8	menu	category
9	menu	food
10	cart	cart
11	cart	item
12	orders	order
13	orders	orderdetail
14	promotions	promo
15	ratings	ratingfood
16	stores	store
17	shipper	shipper
18	menu	foodsize
19	promotions	orderpromo
\.


--
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2025-08-10 11:26:14.420592+07
2	contenttypes	0002_remove_content_type_name	2025-08-10 11:26:14.425589+07
3	auth	0001_initial	2025-08-10 11:26:14.449439+07
4	auth	0002_alter_permission_name_max_length	2025-08-10 11:26:14.454439+07
5	auth	0003_alter_user_email_max_length	2025-08-10 11:26:14.457178+07
6	auth	0004_alter_user_username_opts	2025-08-10 11:26:14.461158+07
7	auth	0005_alter_user_last_login_null	2025-08-10 11:26:14.464158+07
8	auth	0006_require_contenttypes_0002	2025-08-10 11:26:14.466163+07
9	auth	0007_alter_validators_add_error_messages	2025-08-10 11:26:14.470171+07
10	auth	0008_alter_user_username_max_length	2025-08-10 11:26:14.475171+07
11	auth	0009_alter_user_last_name_max_length	2025-08-10 11:26:14.478189+07
12	auth	0010_alter_group_name_max_length	2025-08-10 11:26:14.483337+07
13	auth	0011_update_proxy_permissions	2025-08-10 11:26:14.488368+07
14	auth	0012_alter_user_first_name_max_length	2025-08-10 11:26:14.49235+07
15	authentication	0001_initial	2025-08-10 11:26:14.52017+07
16	admin	0001_initial	2025-08-10 11:26:14.534173+07
17	admin	0002_logentry_remove_auto_add	2025-08-10 11:26:14.540197+07
18	admin	0003_logentry_add_action_flag_choices	2025-08-10 11:26:14.5452+07
121	cart	0001_initial	2025-09-04 15:56:30.143173+07
122	ratings	0001_initial	2025-09-04 15:59:32.753344+07
21	promotions	0001_initial	2025-08-10 11:26:14.585345+07
123	orders	0002_initial	2025-09-04 16:10:35.689586+07
124	menu	0002_remove_food_is_topping	2025-09-06 16:37:56.61451+07
24	sessions	0001_initial	2025-08-10 11:26:14.639354+07
25	authentication	0002_add_standard_auth_fields	2025-08-10 16:51:19.948062+07
26	authentication	0003_alter_user_is_active_alter_user_is_staff_and_more	2025-08-10 16:51:19.965721+07
27	authentication	0003_add_first_and_last_name	2025-08-10 22:33:43.579697+07
28	authentication	0004_add_missing_sql_fields	2025-08-10 22:33:43.583483+07
29	authentication	0005_merge_20250810_2233	2025-08-10 22:33:43.584481+07
125	cart	0002_item_toppings	2025-09-18 11:29:57.276019+07
126	cart	0003_remove_item_toppings	2025-09-18 11:47:28.525059+07
32	authentication	0006_alter_user_options	2025-08-10 23:30:35.672849+07
127	cart	0004_alter_cart_total_money	2025-09-18 15:54:25.460054+07
128	orders	0003_alter_order_total_money	2025-09-18 15:54:25.512263+07
129	orders	0004_alter_order_created_date	2025-09-18 18:49:03.219667+07
36	stores	0001_initial	2025-08-17 18:00:00.699487+07
130	orders	0005_alter_order_created_date	2025-09-18 18:53:46.925687+07
131	orders	0006_remove_orderdetail_price	2025-09-19 15:59:04.503193+07
39	authentication	0007_add_store_to_user	2025-08-17 20:25:01.408091+07
40	authentication	0008_alter_user_options	2025-08-17 20:25:01.41812+07
41	stores	0002_add_user_fk	2025-08-17 20:38:09.255123+07
42	stores	0003_remove_store_user_store_manager	2025-08-17 20:38:09.289703+07
43	shipper	0001_initial	2025-08-21 11:11:32.630028+07
132	orders	0007_order_cancelled_by_role_order_cancelled_date	2025-09-19 16:25:53.219614+07
133	authentication	0002_alter_user_options	2025-09-25 20:35:33.329761+07
134	authentication	0003_auto_20250925_2035	2025-09-25 20:35:33.342474+07
50	authentication	0009_alter_user_options	2025-08-26 14:01:53.748621+07
84	menu	0001_initial	2025-09-04 15:41:41.716532+07
85	menu	0004_remove_food_created_date	2025-09-04 15:41:41.720535+07
86	menu	0005_food_store	2025-09-04 15:41:50.088149+07
87	menu	0006_add_foodsize_and_update_food	2025-09-04 15:41:57.071503+07
107	orders	0001_initial	2025-09-04 15:51:23.621185+07
108	orders	0002_alter_orderdetail_options	2025-09-04 15:51:23.624189+07
109	orders	0003_add_price_to_orderdetail	2025-09-04 15:51:23.626185+07
110	orders	0004_populate_orderdetail_prices	2025-09-04 15:51:23.627753+07
111	orders	0006_add_order_fields	2025-09-04 15:51:23.629402+07
112	orders	0005_order_shipper	2025-09-04 15:51:23.630999+07
113	orders	0007_merge_0005_order_shipper_0006_add_order_fields	2025-09-04 15:51:23.633147+07
114	orders	0008_store_id_to_foreign_key	2025-09-04 15:51:23.634745+07
115	orders	0009_order_cancel_reason_order_delivery_status_and_more	2025-09-04 15:51:23.636842+07
116	orders	0010_add_delivery_status_column	2025-09-04 15:51:23.637847+07
117	orders	0011_alter_order_order_status	2025-09-04 15:51:23.640848+07
118	orders	0012_add_food_note_to_orderdetail	2025-09-04 15:51:23.642978+07
\.


--
-- Data for Name: django_session; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_session (session_key, session_data, expire_date) FROM stdin;
\.


--
-- Data for Name: food; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.food (id, title, description, price, image, cate_id, availability, store_id) FROM stdin;
2	Tôm burger	1 burger	40000.00	assets/burger.png	2	Còn hàng	1
4	Khoai tây chiên	1 khoai nhỏ	25000.00	assets/french-fries.png	4	Còn hàng	1
5	Súp bí đỏ	1 chén súp	20000.00	assets/soup.png	5	Còn hàng	1
7	Bánh xoài đào	1 bánh	10000.00	assets/peach-mango-pie.png	6	Còn hàng	1
9	Bánh xoài cam	1 cái	10000.00	assets/peach-mango-pie.png	6	Còn hàng	1
10	Bánh xoài dâu	1 cái	10000.00	assets/mango-peach-cake.png	6	Còn hàng	1
11	Bánh khoai môn	1 bánh	13000.00	assets/banh-khoai-mon.jpg	6	Còn hàng	1
12	Big Mac	Burger đặc biệt McDonald	65000.00	assets/bigmac.jpg	2	Còn hàng	2
13	Quarter Pounder	Burger thịt bò 1/4 pound	70000.00	assets/quarter-pounder.jpg	2	Còn hàng	2
14	McFlurry Oreo	Kem McFlurry với bánh Oreo	25000.00	assets/mcflurry-oreo.jpg	6	Còn hàng	2
15	McNuggets	6 miếng gà nuggets	45000.00	assets/mcnuggets.jpg	1	Còn hàng	2
16	McFries	Khoai tây chiên McDonald	20000.00	assets/mcfries.jpg	4	Còn hàng	2
17	Apple Pie	Bánh táo nướng	15000.00	assets/apple-pie.jpg	6	Còn hàng	2
18	Whopper	Burger đặc trưng Burger King	75000.00	assets/whopper.jpg	2	Còn hàng	3
19	Whopper Jr	Whopper size nhỏ	55000.00	assets/whopper-jr.jpg	2	Còn hàng	3
20	Chicken Royale	Burger gà giòn	60000.00	assets/chicken-royale.jpg	2	Còn hàng	3
21	Onion Rings	Hành tây chiên giòn	25000.00	assets/onion-rings.jpg	4	Còn hàng	3
22	BK Sundae	Kem sundae Burger King	20000.00	assets/bk-sundae.jpg	6	Còn hàng	3
23	Supreme Pizza	Pizza đặc biệt với nhiều topping	150000.00	assets/supreme-pizza.jpg	3	Còn hàng	4
24	Pepperoni Pizza	Pizza pepperoni cổ điển	120000.00	assets/pepperoni-pizza.jpg	3	Còn hàng	4
25	Hawaiian Pizza	Pizza Hawaii với thơm và ham	130000.00	assets/hawaiian-pizza.jpg	3	Còn hàng	4
26	Cheese Sticks	Que phô mai nướng	35000.00	assets/cheese-sticks.jpg	4	Còn hàng	4
27	Garlic Bread	Bánh mì tỏi nướng	25000.00	assets/garlic-bread.jpg	4	Còn hàng	4
28	Margherita Pizza	Pizza Margherita cổ điển	110000.00	assets/margherita-pizza.jpg	3	Còn hàng	5
29	Meat Lovers Pizza	Pizza nhiều thịt	160000.00	assets/meat-lovers-pizza.jpg	3	Còn hàng	5
30	Veggie Pizza	Pizza chay với rau củ	125000.00	assets/veggie-pizza.jpg	3	Còn hàng	5
31	Chicken Wings	Cánh gà nướng BBQ	45000.00	assets/chicken-wings.jpg	1	Còn hàng	5
32	Coke	Coca Cola 330ml	15000.00	assets/coke.jpg	7	Còn hàng	5
1	Gà vui vẻ	Happy chicken	35000.00	assets/chicken.png	1	Còn hàng	1
3	Mỳ ý	1 mỳ ý	45000.00	assets/spaghetti.png	3	Còn hàng	1
6	Kem chocolate	1 kem ly	10000.00	assets/chocolate-cream.png	6	Còn hàng	1
8	Pepsi	1 ly (vừa)	10000.00	assets/pepsi.png	7	Còn hàng	1
48	Cá viên	Cá ciên	20000.00	assets/ef6064cd613844c8a172e7e3192e7d22.png	1	Còn hàng	1
33	5Cá viên thêm	Thêm cá viên chiên giòn	18000.00	assets/fish-balls.png	8	Còn hàng	5
34	1Khoai tây thêm	Thêm khoai tây chiên giòn tan	15000.00	assets/french-fries.png	8	Còn hàng	1
36	1Cá viên thêm	Thêm cá viên chiên giòn	18000.00	assets/14aca98c7299427e89987cf541951de4.png	8	Còn hàng	1
37	2Khoai tây thêm	Thêm khoai tây chiên giòn tan	15000.00	assets/french-fries.png	8	Còn hàng	2
38	2Xúc xích thêm	Thêm xúc xích nóng hổi	20000.00	assets/hot-dog.png	8	Còn hàng	2
39	2Cá viên thêm	Thêm cá viên chiên giòn	18000.00	assets/fish-balls.png	8	Còn hàng	2
40	3Khoai tây thêm	Thêm khoai tây chiên giòn tan	15000.00	assets/french-fries.png	8	Còn hàng	3
41	3Xúc xích thêm	Thêm xúc xích nóng hổi	20000.00	assets/hot-dog.png	8	Còn hàng	3
42	3Cá viên thêm	Thêm cá viên chiên giòn	18000.00	assets/fish-balls.png	8	Còn hàng	3
43	4Khoai tây thêm	Thêm khoai tây chiên giòn tan	15000.00	assets/french-fries.png	8	Còn hàng	4
44	4Xúc xích thêm	Thêm xúc xích nóng hổi	20000.00	assets/hot-dog.png	8	Còn hàng	4
45	4Cá viên thêm	Thêm cá viên chiên giòn	18000.00	assets/fish-balls.png	8	Còn hàng	4
46	5Khoai tây thêm	Thêm khoai tây chiên giòn tan	15000.00	assets/french-fries.png	8	Còn hàng	5
47	5Xúc xích thêm	Thêm xúc xích nóng hổi	20000.00	assets/hot-dog.png	8	Còn hàng	5
35	1Xúc xích thêm	Thêm xúc xích nóng hổi	20000.00	assets/hot-dog.png	8	Còn hàng	1
\.


--
-- Data for Name: food_size; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.food_size (id, size_name, price, food_id) FROM stdin;
11	M	0.00	8
12	L	5000.00	32
13	XL	10000.00	8
14	L	5000.00	8
15	XL	10000.00	32
16	M	0.00	32
17	Xxl	15000.00	8
18	M	0.00	48
19	L	15000.00	48
\.


--
-- Data for Name: item; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.item (cart_id, food_id, quantity, item_note, id, food_option_id) FROM stdin;
\.


--
-- Data for Name: order_detail; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.order_detail (order_id, food_id, quantity, food_note, id, food_option_id, food_price, food_option_price) FROM stdin;
27	12	2	\N	1	\N	65000.00	\N
29	13	3	\N	3	\N	70000.00	\N
30	1	4	\N	4	\N	35000.00	\N
28	1	3	\N	2	\N	35000.00	\N
31	11	2	\N	5	\N	0.00	\N
32	12	4	\N	6	\N	0.00	\N
32	15	3	Topping for Big Mac	7	\N	0.00	\N
33	32	1	\N	8	\N	0.00	\N
33	33	2	\N	9	\N	0.00	\N
33	46	2	\N	10	\N	0.00	\N
33	47	1	\N	11	\N	0.00	\N
34	33	1	Topping for 5Xúc xích thêm	12	\N	0.00	\N
34	46	2	Topping for 5Xúc xích thêm	13	\N	0.00	\N
34	47	3	\N	14	\N	0.00	\N
35	45	1	\N	15	\N	0.00	\N
36	47	1	\N	16	\N	0.00	\N
37	47	1	\N	17	\N	0.00	\N
38	47	1	\N	18	\N	0.00	\N
39	47	1	\N	19	\N	0.00	\N
40	47	1	\N	20	\N	0.00	\N
41	47	1	\N	21	\N	0.00	\N
42	47	1	Ok	22	\N	0.00	\N
43	33	1	Ngon	23	\N	0.00	\N
43	46	4	Topping for 5Khoai tây	24	\N	0.00	\N
44	33	2	Topping for 5Khoai tây thêm	25	\N	0.00	\N
44	46	5	\N	26	\N	0.00	\N
44	47	1	\N	27	\N	0.00	\N
45	32	1	Note2	28	12	15000.00	5000.00
46	1	1	Note4	29	\N	35000.00	\N
46	36	1	Note3	30	\N	18000.00	\N
47	32	1	\N	31	15	15000.00	10000.00
47	46	1	Topping for Coke	32	\N	15000.00	\N
47	47	1	Topping for Coke	33	\N	20000.00	\N
48	2	1	Cay	34	\N	40000.00	\N
49	32	1	Thêm đá	35	15	15000.00	10000.00
49	32	1	Thêm đá	36	16	15000.00	0.00
49	46	1	Topping for Coke	37	\N	15000.00	\N
49	47	3	Topping for Coke	38	\N	20000.00	\N
50	33	1	Topping for 5Xúc xích thêm	39	\N	18000.00	\N
50	46	1	Topping for 5Xúc xích thêm	40	\N	15000.00	\N
50	47	1	\N	41	\N	20000.00	\N
51	47	1	\N	42	\N	20000.00	\N
52	47	1	\N	43	\N	20000.00	\N
53	46	1	\N	44	\N	15000.00	\N
54	45	1	\N	45	\N	18000.00	\N
55	47	1	\N	46	\N	20000.00	\N
56	43	1	Topping for 4Xúc xích thêm	47	\N	15000.00	\N
56	44	2	Topping for 4Xúc xích thêm	48	\N	20000.00	\N
56	45	1	Topping for 4Xúc xích thêm	49	\N	18000.00	\N
57	31	1	\N	50	\N	45000.00	\N
58	19	1	\N	51	\N	55000.00	\N
59	8	1	\N	52	14	10000.00	5000.00
59	8	1	\N	53	11	10000.00	0.00
59	36	1	Topping for Pepsi	54	\N	18000.00	\N
\.


--
-- Data for Name: order_promo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.order_promo (id, order_id, promo_id, applied_amount, note, created_at) FROM stdin;
1	27	12	10000.00		2025-08-31 11:46:35.038064
2	27	13	10000.00		2025-08-31 11:46:35.043027
3	27	2	14915.40		2025-08-31 11:46:35.046037
4	29	11	8610.00		2025-08-31 12:16:42.925824
5	29	1	17220.00		2025-08-31 12:16:42.932325
6	29	2	25830.00		2025-08-31 12:16:42.934263
\.


--
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.orders (id, created_date, total_money, user_id, order_status, note, payment_method, receiver_name, ship_address, phone_number, promo_id, shipper_id, cancel_reason, shipping_fee, group_id, store_id, delivery_status, total_before_discount, total_discount, total_after_discount, cancelled_by_role, cancelled_date) FROM stdin;
31	2025-09-18 18:23:11.845837+07	41000.000	2	Đã lấy hàng		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	31	1	Chờ xác nhận	41000.00	0.00	41000.00	\N	\N
28	2025-08-31 18:46:35.051031+07	95314.000	2	Chờ xác nhận	xin hộp giấy	COD	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	27	1	Chờ xác nhận	95314.00	0.00	95314.00	\N	\N
29	2025-08-31 19:16:42.917914+07	124200.000	2	Chờ xác nhận	xin hộp giấy	COD	Bin	Liên Chiểu, Đà Nẵng	1231231233	11	\N	\N	15000	29	2	Chờ xác nhận	187200.00	51660.00	135540.00	\N	\N
30	2025-08-31 19:16:42.938241+07	129800.000	2	Chờ xác nhận	xin hộp giấy	COD	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	29	1	Chờ xác nhận	129800.00	0.00	129800.00	\N	\N
32	2025-09-18 18:23:11.86439+07	410000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	31	2	Chờ xác nhận	410000.00	0.00	410000.00	\N	\N
33	2025-09-18 18:23:11.869255+07	116000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	31	5	Chờ xác nhận	116000.00	0.00	116000.00	\N	\N
34	2025-09-18 18:44:12.533634+07	123000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	34	5	Chờ xác nhận	123000.00	0.00	123000.00	\N	\N
35	2025-09-18 18:45:02.666962+07	33000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	35	4	Chờ xác nhận	33000.00	0.00	33000.00	\N	\N
36	2025-09-18 18:46:20.532147+07	35000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	36	5	Chờ xác nhận	35000.00	0.00	35000.00	\N	\N
37	2025-09-18 18:49:18.646445+07	35000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	37	5	Chờ xác nhận	35000.00	0.00	35000.00	\N	\N
51	2025-09-21 14:12:55.687254+07	35000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	1	\N	15000	51	5	Đã xác nhận	35000.00	0.00	35000.00	\N	\N
43	2025-09-18 19:14:12.878399+07	93000.000	2	Đã giao	okok	cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	43	5	Chờ xác nhận	93000.00	0.00	93000.00	\N	\N
48	2025-09-20 15:29:30.067759+07	55000.000	2	Đã giao	gọi trước	cash	Bin2	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	48	1	Chờ xác nhận	55000.00	0.00	55000.00	\N	\N
50	2025-09-21 14:10:30.990345+07	68000.000	2	Chờ xác nhận		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	50	5	Chờ xác nhận	68000.00	0.00	68000.00	\N	\N
58	2025-09-25 09:49:42.035866+07	70000.000	8	Đã giao		cash	Shipper1	Quận Tân Bình, TP.HCM	0906789012	\N	1	\N	15000	58	3	Đã giao	70000.00	0.00	70000.00	\N	\N
52	2025-09-21 14:15:16.597643+07	35000.000	2	Đã giao		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	1	\N	15000	52	5	Đã giao	35000.00	0.00	35000.00	\N	\N
55	2025-09-21 17:38:41.640005+07	35000.000	8	Đã giao		cash	Shipper1	Quận Tân Bình, TP.HCM	0906789012	\N	1	\N	15000	55	5	Đã giao	35000.00	0.00	35000.00	\N	\N
49	2025-09-20 15:29:30.082957+07	130000.000	2	Đã huỷ	gọi trước	cash	Bin2	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Hủy bởi quản lý	15000	48	5	Chờ xác nhận	130000.00	0.00	130000.00	Cửa hàng	2025-09-25 21:50:07.858788+07
38	2025-09-18 18:55:20.881645+07	35000.000	2	Đã huỷ	ok	cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Thay đổi số điện thoại	15000	38	5	Chờ xác nhận	35000.00	0.00	35000.00	Khách hàng	2025-09-19 16:49:58.664405+07
47	2025-09-19 17:04:14.899306+07	75000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Thêm mã giảm giá	15000	47	5	Chờ xác nhận	75000.00	0.00	75000.00	Khách hàng	2025-09-19 17:04:26.361029+07
42	2025-09-18 19:13:26.308529+07	35000.000	2	Đã huỷ	ngon	cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	\N	15000	42	5	Chờ xác nhận	35000.00	0.00	35000.00	\N	\N
41	2025-09-18 19:08:06.813251+07	35000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Không muốn nhận hàng nữa	15000	41	5	Chờ xác nhận	35000.00	0.00	35000.00	\N	\N
40	2025-09-18 19:07:13.299986+07	35000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	huỷ	15000	40	5	Chờ xác nhận	35000.00	0.00	35000.00	\N	\N
54	2025-09-21 14:22:15.43575+07	33000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Thay đổi thời gian giao hàng	15000	54	4	Chờ xác nhận	33000.00	0.00	33000.00	Khách hàng	2025-09-21 14:22:29.573743+07
46	2025-09-19 15:57:02.170729+07	68000.000	2	Đã huỷ	note1	cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Không muốn nhận hàng nữa	15000	45	1	Chờ xác nhận	68000.00	0.00	68000.00	Khách hàng	2025-09-19 16:42:05.631334+07
45	2025-09-19 15:57:02.157826+07	35000.000	2	Đã huỷ	note1	cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Thay đổi số điện thoại	15000	45	5	Chờ xác nhận	35000.00	0.00	35000.00	Khách hàng	2025-09-19 16:42:28.77168+07
44	2025-09-19 15:42:47.131866+07	146000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	ok	15000	44	5	Chờ xác nhận	146000.00	0.00	146000.00	Khách hàng	2025-09-19 16:43:45.058926+07
39	2025-09-18 19:00:18.777955+07	35000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	\N	Kh muoon	15000	39	5	Chờ xác nhận	35000.00	0.00	35000.00	Khách hàng	2025-09-19 16:49:00.06432+07
57	2025-09-25 09:49:14.085123+07	60000.000	8	Đã huỷ		cash	Shipper1	Quận Tân Bình, TP.HCM	0906789012	\N	\N	Hủy bởi quản lý	15000	57	5	Chờ xác nhận	60000.00	0.00	60000.00	Cửa hàng	2025-09-25 15:20:12.331998+07
56	2025-09-21 20:30:15.986044+07	88000.000	8	Đã huỷ		cash	Shipper1	Quận Tân Bình, TP.HCM	0906789012	\N	\N	Không muốn nhận hàng nữa	15000	56	4	Chờ xác nhận	88000.00	0.00	88000.00	Khách hàng	2025-09-21 20:58:47.275771+07
27	2025-08-31 18:46:35.032024+07	59186.000	2	Đã huỷ	xin hộp giấy	COD	Bin	Liên Chiểu, Đà Nẵng	1231231233	12	\N	Test cancellation by store	15000	27	2	Chờ xác nhận	114436.00	34915.40	79520.60	Cửa hàng	2025-09-19 16:41:17.74935+07
53	2025-09-21 14:21:24.308769+07	30000.000	2	Đã huỷ		cash	Bin	Liên Chiểu, Đà Nẵng	1231231233	\N	1	\N	15000	53	5	Đã xác nhận	30000.00	0.00	30000.00	\N	\N
59	2025-09-29 18:00:09.113486+07	58000.000	3	Chờ xác nhận		cash	KFC Vietnam	Quận 1, TP.HCM	0901234567	\N	\N	\N	15000	59	1	Chờ xác nhận	58000.00	0.00	58000.00	\N	\N
\.


--
-- Data for Name: promo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.promo (id, name, category, discount_value, start_date, end_date, minimum_pay, store_id, max_discount_amount, scope, discount_type, is_active) FROM stdin;
1	Giảm 10% cho đơn hàng từ 100,000đ (tối đa 50,000đ)	PERCENT	10.00	2025-08-27 01:36:23.174849	2025-09-26 02:36:23.174849	100000.00	1	50000.00	STORE	PERCENT	t
2	Giảm 15% cho đơn hàng từ 200,000đ (tối đa 100,000đ)	PERCENT	15.00	2025-08-27 01:36:23.174849	2025-09-26 02:36:23.174849	200000.00	2	100000.00	STORE	PERCENT	t
4	Giảm 20% cho đơn hàng từ 500,000đ (tối đa 200,000đ)	PERCENT	20.00	2025-08-27 01:36:23.174849	2025-09-26 02:36:23.174849	500000.00	4	200000.00	STORE	PERCENT	t
11	Khuyến mãi toàn hệ thống - Giảm 5% cho đơn hàng từ 50,000đ	PERCENT	5.00	2025-08-27 10:22:19.280248	2025-09-26 10:22:19.280248	50000.00	0	20000.00	STORE	PERCENT	t
13	KFC - Giảm 15% cho đơn từ 25,000đ	PERCENT	15.00	2025-08-27 10:56:22.264082	2025-09-26 10:56:22.264082	25000.00	1	10000.00	STORE	PERCENT	t
12	Khuyến mãi toàn hệ thống - Giảm 10,000đ cho đơn hàng từ 100,000đ	AMOUNT	10000.00	2025-08-27 03:22:19.283245	2025-09-26 03:22:19.283245	100000.00	0	\N	GLOBAL	AMOUNT	t
3	Giảm 50,000đ cho đơn hàng từ 300,000đ	AMOUNT	50000.00	2025-08-26 18:36:23.174849	2025-09-25 19:36:23.174849	300000.00	3	\N	STORE	AMOUNT	t
5	Giảm 100,000đ cho đơn hàng từ 1,000,000đ	AMOUNT	100001.00	2025-08-26 11:36:00	2025-09-25 12:36:00	1000000.00	5	\N	STORE	AMOUNT	t
14	McDonalds - Giảm 5,000đ cho đơn từ 40,000đ	AMOUNT	5000.00	2025-08-27 03:56:22.268088	2025-09-26 03:56:22.268088	40000.00	2	\N	STORE	AMOUNT	t
\.


--
-- Data for Name: rating_food; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rating_food (id, user_id, food_id, content, point, order_id) FROM stdin;
2	1	1	ngon	5	\N
4	2	33	Khá ngon	5	43
5	2	46	Khá ngon	5	43
6	2	2	Ok	5	48
3	2	1	ok	3	\N
\.


--
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.roles (id, role_name) FROM stdin;
4	Người vận chuyển
3	Chủ cửa hàng
2	Quản lý
1	Khách hàng
7	Shipper
8	Cửa hàng
\.


--
-- Data for Name: shipper; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.shipper (id, user_id) FROM stdin;
2	9
1	8
4	10
\.


--
-- Data for Name: stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.stores (id, store_name, image, description, user_id) FROM stdin;
1	KFC Vietnam	assets/kfc-logo.png	Nhà hàng gà rán nổi tiếng thế giới	3
2	McDonalds Vietnam	assets/mcdonalds-logo.png	Chuỗi thức ăn nhanh hàng đầu	7
3	Burger King	assets/burgerking-logo.png	Chuyên về burger và thức ăn nhanh	6
4	Pizza Hut	assets/pizzahut-logo.png	Chuyên pizza và đồ ăn Ý	5
5	Dominos Pizza	assets/dominos-logo.png	Giao pizza nhanh chóng	4
0	Toàn hệ thống		Khuyến mãi áp dụng cho tất cả cửa hàng	1
6	Test	assets/store-icon.png	Hà nội	11
7	Test3	assets/store-icon.png	Huế	12
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (id, fullname, username, password, email, address, phone_number, created_date, role_id, last_login, is_superuser, is_staff, is_active, date_joined, first_name, last_name, is_shipper_registered, is_store_registered) FROM stdin;
3	KFC Vietnam	kfc	123	kfc@gmail.com	Quận 1, TP.HCM	0901234567	2025-08-11 02:33:59.153353	3	\N	f	f	t	2025-08-11 09:33:59.153353+07	KFC	Manager	\N	\N
4	Dominos Pizza	domino	123	domino@gmail.com	Quận 3, TP.HCM	0902345678	2025-08-11 02:33:59.153353	3	\N	f	f	t	2025-08-11 09:33:59.153353+07	Dominos	Manager	\N	\N
5	Pizza Hut	pizzahut	123	pizzahut@gmail.com	Quận 7, TP.HCM	0903456789	2025-08-11 02:33:59.153353	3	\N	f	f	t	2025-08-11 09:33:59.153353+07	Pizza	Manager	\N	\N
6	Burger King	burgerking	123	burgerking@gmail.com	Quận 2, TP.HCM	0904567890	2025-08-11 02:33:59.153353	3	\N	f	f	t	2025-08-11 09:33:59.153353+07	Burger	Manager	\N	\N
7	McDonalds Vietnam	mcdonald	123	mcdonald@gmail.com	Quận 5, TP.HCM	0905678901	2025-08-11 02:33:59.153353	3	\N	f	f	t	2025-08-11 09:33:59.153353+07	McDonald	Manager	\N	\N
1	Admin	admin	123	admin@gmail.com	Hồ Chí Minh	0456456456	2025-08-10 12:33:59.153353	2	\N	f	f	t	2025-08-11 09:33:59.153353+07	Admin	User	\N	\N
10	Test	test	123	test@gmail.com	Đà Nẵng	0987654321	2025-09-23 18:59:21.470963	4	\N	f	f	t	2025-09-25 19:59:21.470963+07			f	\N
2	Bin	bin	123	bin@gmail.com	Liên Chiểu, Đà Nẵng	1231231233	2025-08-07 10:42:24.012483	1	\N	f	f	t	2025-08-10 22:42:24.012483+07	Bin	User	\N	\N
9	Shipper2	shipper2	123	shipper2@gmail.com	Quận Gò Vấp, TP.HCM2	0907890123	2025-08-10 19:33:59.153353	4	\N	f	f	t	2025-08-11 09:33:59.153353+07	Shipper	Two	\N	\N
8	Shipper1	shipper1	123	shipper1@gmail.com	Đà nẵngg	0123456789	2025-08-09 22:33:59.153353	4	\N	f	f	t	2025-08-11 09:33:59.153353+07	Shipper	One	\N	\N
11	Test	test2	123	test2@gmail.com	Hà nội	0987654322	2025-09-24 02:25:49.941872	8	\N	f	f	t	2025-09-25 20:25:49.941872+07			\N	f
12	Test3	test3	123456	test3@gmail.com	Huế	0987654323	2025-09-25 00:44:52.852511	8	\N	f	f	t	2025-09-25 21:44:52.852511+07			\N	f
\.


--
-- Data for Name: users_groups; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users_groups (id, user_id, group_id) FROM stdin;
\.


--
-- Data for Name: users_user_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users_user_permissions (id, user_id, permission_id) FROM stdin;
\.


--
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_group_id_seq', 1, false);


--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_group_permissions_id_seq', 1, false);


--
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_permission_id_seq', 76, true);


--
-- Name: cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cart_id_seq', 4, true);


--
-- Name: category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.category_id_seq', 8, true);


--
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_admin_log_id_seq', 1, false);


--
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_content_type_id_seq', 19, true);


--
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_migrations_id_seq', 134, true);


--
-- Name: food_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.food_id_seq', 48, true);


--
-- Name: food_size_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.food_size_id_seq', 19, true);


--
-- Name: item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.item_id_seq', 54, true);


--
-- Name: order_detail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.order_detail_id_seq', 54, true);


--
-- Name: order_promo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.order_promo_id_seq', 6, true);


--
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_id_seq', 59, true);


--
-- Name: promo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.promo_id_seq', 14, true);


--
-- Name: rating_food_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.rating_food_id_seq', 6, true);


--
-- Name: roles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_id_seq', 8, true);


--
-- Name: shipper_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.shipper_id_seq', 4, true);


--
-- Name: stores_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.stores_id_seq', 7, true);


--
-- Name: users_groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_groups_id_seq', 1, true);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 12, true);


--
-- Name: users_user_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_user_permissions_id_seq', 1, false);


--
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- Name: cart cart_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart
    ADD CONSTRAINT cart_pkey PRIMARY KEY (id);


--
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (id);


--
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- Name: food food_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT food_pkey PRIMARY KEY (id);


--
-- Name: food_size food_size_food_id_size_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_size
    ADD CONSTRAINT food_size_food_id_size_name_key UNIQUE (food_id, size_name);


--
-- Name: food_size food_size_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_size
    ADD CONSTRAINT food_size_pkey PRIMARY KEY (id);


--
-- Name: item item_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT item_pkey PRIMARY KEY (id);


--
-- Name: order_detail order_detail_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_detail
    ADD CONSTRAINT order_detail_pkey PRIMARY KEY (id);


--
-- Name: order_promo order_promo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_promo
    ADD CONSTRAINT order_promo_pkey PRIMARY KEY (id);


--
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- Name: promo promo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.promo
    ADD CONSTRAINT promo_pkey PRIMARY KEY (id);


--
-- Name: rating_food rating_food_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rating_food
    ADD CONSTRAINT rating_food_pkey PRIMARY KEY (id);


--
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- Name: shipper shipper_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipper
    ADD CONSTRAINT shipper_pkey PRIMARY KEY (id);


--
-- Name: shipper shipper_user_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipper
    ADD CONSTRAINT shipper_user_id_key UNIQUE (user_id);


--
-- Name: stores stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stores
    ADD CONSTRAINT stores_pkey PRIMARY KEY (id);


--
-- Name: stores stores_user_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stores
    ADD CONSTRAINT stores_user_id_key UNIQUE (user_id);


--
-- Name: order_promo uq_order_promo; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_promo
    ADD CONSTRAINT uq_order_promo UNIQUE (order_id, promo_id);


--
-- Name: users_groups users_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_groups
    ADD CONSTRAINT users_groups_pkey PRIMARY KEY (id);


--
-- Name: users_groups users_groups_user_id_group_id_fc7788e8_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_groups
    ADD CONSTRAINT users_groups_user_id_group_id_fc7788e8_uniq UNIQUE (user_id, group_id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users_user_permissions users_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_user_permissions
    ADD CONSTRAINT users_user_permissions_pkey PRIMARY KEY (id);


--
-- Name: users_user_permissions users_user_permissions_user_id_permission_id_3b86cbdf_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_user_permissions
    ADD CONSTRAINT users_user_permissions_user_id_permission_id_3b86cbdf_uniq UNIQUE (user_id, permission_id);


--
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- Name: food_store_id_aaf588e1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX food_store_id_aaf588e1 ON public.food USING btree (store_id);


--
-- Name: idx_cart_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_cart_user_id ON public.cart USING btree (user_id);


--
-- Name: idx_food_cate; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_food_cate ON public.food USING btree (cate_id);


--
-- Name: idx_food_size_food; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_food_size_food ON public.food_size USING btree (food_id);


--
-- Name: idx_food_store; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_food_store ON public.food USING btree (store_id);


--
-- Name: idx_item_cart; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_item_cart ON public.item USING btree (cart_id);


--
-- Name: idx_item_food; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_item_food ON public.item USING btree (food_id);


--
-- Name: idx_item_food_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_item_food_id ON public.item USING btree (food_id);


--
-- Name: idx_od_food; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_od_food ON public.order_detail USING btree (food_id);


--
-- Name: idx_od_order; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_od_order ON public.order_detail USING btree (order_id);


--
-- Name: idx_order_detail_food_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_order_detail_food_id ON public.order_detail USING btree (food_id);


--
-- Name: idx_order_promo_order; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_order_promo_order ON public.order_promo USING btree (order_id);


--
-- Name: idx_orders_promo_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_orders_promo_id ON public.orders USING btree (promo_id);


--
-- Name: idx_orders_shipper_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_orders_shipper_id ON public.orders USING btree (shipper_id);


--
-- Name: idx_orders_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_orders_user_id ON public.orders USING btree (user_id);


--
-- Name: idx_rating_food_food_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_rating_food_food_id ON public.rating_food USING btree (food_id);


--
-- Name: idx_rating_food_order_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_rating_food_order_id ON public.rating_food USING btree (order_id);


--
-- Name: idx_rating_food_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_rating_food_user_id ON public.rating_food USING btree (user_id);


--
-- Name: idx_users_role_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_users_role_id ON public.users USING btree (role_id);


--
-- Name: users_groups_group_id_2f3517aa; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX users_groups_group_id_2f3517aa ON public.users_groups USING btree (group_id);


--
-- Name: users_groups_user_id_f500bee5; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX users_groups_user_id_f500bee5 ON public.users_groups USING btree (user_id);


--
-- Name: users_user_permissions_permission_id_6d08dcd2; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX users_user_permissions_permission_id_6d08dcd2 ON public.users_user_permissions USING btree (permission_id);


--
-- Name: users_user_permissions_user_id_92473840; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX users_user_permissions_user_id_92473840 ON public.users_user_permissions USING btree (user_id);


--
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: cart fk_cart_users_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart
    ADD CONSTRAINT fk_cart_users_id FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: food fk_food_category_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT fk_food_category_id FOREIGN KEY (cate_id) REFERENCES public.category(id);


--
-- Name: food fk_food_store; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT fk_food_store FOREIGN KEY (store_id) REFERENCES public.stores(id) ON DELETE CASCADE;


--
-- Name: food fk_food_store_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT fk_food_store_id FOREIGN KEY (store_id) REFERENCES public.stores(id);


--
-- Name: item fk_item_cart_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT fk_item_cart_id FOREIGN KEY (cart_id) REFERENCES public.cart(id);


--
-- Name: item fk_item_food_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT fk_item_food_id FOREIGN KEY (food_id) REFERENCES public.food(id);


--
-- Name: item fk_item_food_option; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT fk_item_food_option FOREIGN KEY (food_option_id) REFERENCES public.food_size(id);


--
-- Name: order_promo fk_op_order; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_promo
    ADD CONSTRAINT fk_op_order FOREIGN KEY (order_id) REFERENCES public.orders(id) ON DELETE CASCADE;


--
-- Name: order_promo fk_op_promo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_promo
    ADD CONSTRAINT fk_op_promo FOREIGN KEY (promo_id) REFERENCES public.promo(id);


--
-- Name: order_detail fk_order_detail_food_option; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_detail
    ADD CONSTRAINT fk_order_detail_food_option FOREIGN KEY (food_option_id) REFERENCES public.food_size(id);


--
-- Name: order_detail fk_orderdetail_food_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_detail
    ADD CONSTRAINT fk_orderdetail_food_id FOREIGN KEY (food_id) REFERENCES public.food(id);


--
-- Name: order_detail fk_orderdetail_orders_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_detail
    ADD CONSTRAINT fk_orderdetail_orders_id FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: orders fk_orders_promo; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk_orders_promo FOREIGN KEY (promo_id) REFERENCES public.promo(id);


--
-- Name: orders fk_orders_shipper; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk_orders_shipper FOREIGN KEY (shipper_id) REFERENCES public.shipper(id) ON DELETE SET NULL;


--
-- Name: orders fk_orders_users_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk_orders_users_id FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: rating_food fk_ratingfood_food_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rating_food
    ADD CONSTRAINT fk_ratingfood_food_id FOREIGN KEY (food_id) REFERENCES public.food(id);


--
-- Name: rating_food fk_ratingfood_order_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rating_food
    ADD CONSTRAINT fk_ratingfood_order_id FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: rating_food fk_ratingfood_users_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rating_food
    ADD CONSTRAINT fk_ratingfood_users_id FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: users fk_users_roles_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT fk_users_roles_id FOREIGN KEY (role_id) REFERENCES public.roles(id);


--
-- Name: food_size food_size_food_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food_size
    ADD CONSTRAINT food_size_food_id_fkey FOREIGN KEY (food_id) REFERENCES public.food(id) ON DELETE CASCADE;


--
-- Name: food food_store_id_aaf588e1_fk_stores_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.food
    ADD CONSTRAINT food_store_id_aaf588e1_fk_stores_id FOREIGN KEY (store_id) REFERENCES public.stores(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: orders orders_store_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_store_id_fkey FOREIGN KEY (store_id) REFERENCES public.stores(id) ON DELETE CASCADE;


--
-- Name: promo promo_store_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.promo
    ADD CONSTRAINT promo_store_id_fkey FOREIGN KEY (store_id) REFERENCES public.stores(id);


--
-- Name: shipper shipper_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipper
    ADD CONSTRAINT shipper_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: stores stores_user_id_ddd3d2fa_fk_users_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stores
    ADD CONSTRAINT stores_user_id_ddd3d2fa_fk_users_id FOREIGN KEY (user_id) REFERENCES public.users(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: users_groups users_groups_group_id_2f3517aa_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_groups
    ADD CONSTRAINT users_groups_group_id_2f3517aa_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: users_user_permissions users_user_permissio_permission_id_6d08dcd2_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_user_permissions
    ADD CONSTRAINT users_user_permissio_permission_id_6d08dcd2_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- PostgreSQL database dump complete
--

