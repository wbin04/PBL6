<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Chatbot - Giao diện Chat</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <div class="chat-wrap">
      <header class="chat-header">Chatbot Đặt Đồ Ăn</header>
      <div style="padding:8px 16px;background:#fbfdff;border-bottom:1px solid #eef2ff;display:flex;gap:8px;align-items:center">
        <label for="storeSelect" style="color:#333;font-size:13px">Chọn cửa hàng:</label>
        <select id="storeSelect" aria-label="Chọn cửa hàng"></select>
      </div>
      <main id="messages" class="chat-messages" aria-live="polite"></main>

      <form id="inputForm" class="chat-input" action="#" onsubmit="return false;">
        <input id="textInput" type="text" placeholder="Nhập tin nhắn... (ví dụ: Thêm 1 phần Gà Rán size M)" autocomplete="off" />
        <button id="sendBtn" type="button">Gửi</button>
      </form>
    </div>

    <script>
      // Generate or reuse a session id stored in localStorage so server-side STATE works across reloads
      if (!localStorage.getItem('chat_session_id')) {
        localStorage.setItem('chat_session_id', 's_' + Math.random().toString(36).slice(2, 10));
      }
      const SESSION_ID = localStorage.getItem('chat_session_id');
    </script>
    <script src="/static/chat.js"></script>
  </body>
</html>
